import disnake
from disnake.ext import commands
from disnake.ui import Button, View
from disnake import Interaction
import json

with open('conf/config.json') as f:
    config = json.load(f)

class SelfRole(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    async def send_embeds(self, channel: disnake.TextChannel):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Embed'—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤ –∫–∞–Ω–∞–ª."""
        embeds = [
            disnake.Embed(
                title="üé≠ –†–æ–ª–∏ –°–µ—Ä–≤–µ—Ä–∞",
                description="üé≠ –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö üé≠",
                color=disnake.Color.blurple()
            ),
            disnake.Embed(
                title="üíé –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –†–æ–ª–∏ üíé",
                description=( 
                    "__–õ—é–¥–∏ —Å —ç—Ç–∏–º–∏ —Ä–æ–ª—è–º–∏ ‚Äì –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å–ª–µ–¥—è—â–∏–µ –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∑–∞–Ω–∏–º–∞—é—â–∏–µ—Å—è –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ–º:__\n\n"
                    "<@&1294045225873833999> ‚Äì –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ–º–æ—á–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Ä–≤–µ—Ä–∞\n\n"
                    "<@&1294045970975428628> ‚Äì –≥–ª–∞–≤—ã —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º\n\n"
                    "<@&784160890761117767> ‚Äì –ø—Ä–∞–≤–∞—è —Ä—É–∫–∞ –∏ –ª–∏—á–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏ –≥–ª–∞–≤ —Å–µ—Ä–≤–µ—Ä–∞\n\n"
                    "<@&1025668964447158322> ‚Äì –∞–¥–º–∏–Ω—ã —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç –∏–≤–µ–Ω—Ç—ã\n\n"
                    "<@&1253683368135233577> ‚Äì —Å—Ç—Ä–∞–∂–∏ –ø–æ—Ä—è–¥–∫–∞, –≤—Å–µ –≤–∏–¥—è—Ç –∏ –≤—Å–µ—Ö –Ω–∞–∫–∞–∂—É—Ç –ø–æ –∑–∞—Å–ª—É–≥–∞–º"
                ),
                color=disnake.Color.gold()
            ),
            disnake.Embed(
                title="‚ú® –†–æ–ª–∏ –ü–µ—Ä—Å–æ–Ω–∞–ª–∞ ‚ú®",
                description=( 
                    "__–õ—é–¥–∏ —Å —ç—Ç–∏–º–∏ —Ä–æ–ª—è–º–∏ ‚Äì —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∏–≥—Ä–æ–≤—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –≤–µ–¥–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤:__\n\n"
                    "<@&1105831610391216168> ‚Äì –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ <#784172182145466369>\n\n"
                    "<@&1105831009808822374> ‚Äì –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ <#810212950932586527>\n\n"
                    "<@&1142091411655770234> ‚Äì –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ <#1142092089098764358>"
                ),
                color=disnake.Color.green()
            ),
            disnake.Embed(
                title="üéÆ –ò–≥—Ä–æ–≤—ã–µ –†–æ–ª–∏ üéÆ",
                description=( 
                    "__–ù–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–≥—Ä, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è –ø–æ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –∏ –∑–∞–≤–æ–¥–∏—Ç—å –¥—Ä—É–∑–µ–π:__\n\n"
                    "<@&791556122128678934> ‚Äì –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ –∏–≥—Ä–µ Sky: Children of Light\n\n"
                    "<@&810915472664690689> ‚Äì –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ –∏–≥—Ä–µ Genshin Impact\n\n"
                    "<@&1142091192222359573> ‚Äì –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ –∏–≥—Ä–µ Honkai: Star Rail"
                ),
                color=disnake.Color.blue()
            ),
            disnake.Embed(
                title="üë• –ì–µ–Ω–¥–µ—Ä–Ω—ã–µ –†–æ–ª–∏ üë•",
                description=( 
                    "__–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –ø–æ–ª, –≤—ã–±—Ä–∞–≤ –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ä–æ–ª—å:__\n\n"
                    "<@&866427253490450492> ‚Äì –ø–∞—Ä–µ–Ω—å\n\n"
                    "<@&866426767639183411> ‚Äì –¥–µ–≤—É—à–∫–∞"
                ),
                color=disnake.Color.purple()
            ),
            disnake.Embed(
                title="üå∏ –†–æ–ª–∏ –∑–∞ –£—Ä–æ–≤–µ–Ω—å üå∏",
                description=( 
                    "–û–±—â–∞—è—Å—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∫–æ–ø–∏—Ç—å –æ–ø—ã—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø–æ–≤—ã—à–∞—Ç—å —Å–≤–æ–π **—É—Ä–æ–≤–µ–Ω—å**\n"
                    "–ó–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å—Å—è —Ä–æ–ª—å:\n\n"
                    "<@&784159073385840651> ‚Äì 5 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "<@&1091074897473720501> ‚Äì 15 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "<@&1091078506986885212> ‚Äì 25 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "<@&1091079383210541066> ‚Äì 35 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "<@&1091079976025075852> ‚Äì 45 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "<@&1091080623478812724> ‚Äì 55 —É—Ä–æ–≤–µ–Ω—å\n\n"
                    "> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π **¬´/level¬ª**"
                ),
                color=disnake.Color.orange()
            ),
            disnake.Embed(
                title="‚ö°Ô∏è –û—Å–æ–±—ã–µ –†–æ–ª–∏ ‚ö°Ô∏è",
                description=( 
                    "__–ù–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ —Ç–∞–∫–∂–µ –µ—Å—Ç—å —Ä—è–¥ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã—Ö —Ä–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏:__\n\n"
                    "<@&798286377757704212> ‚Äì —á–µ–ª–æ–≤–µ–∫ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏—è–º –∏–≥—Ä, –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\n"
                    "`–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è: —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ #‚≠ê‚îãùöÇùöûùöôùöôùöòùöõùöù –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞`\n\n"
                    "<@&1266081292181835846> ‚Äì –¥—Ä—É–≥ —Å–µ—Ä–≤–µ—Ä–∞, –æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —Ä–∞–∑–ª–∏—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—é\n"
                    "`–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è: –≤—ã–¥–∞–µ—Ç—Å—è –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏`\n\n"
                    "<@&850536622062698527> ‚Äì —á–µ–ª–æ–≤–µ–∫, –æ–∫–∞–∑–∞–≤—à–∏–π –ª–∏—á–Ω—É—é –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –ë–∞–Ω–¥–∏–∫—É—Ç—É\n\n"
                    "<@&854234816303595532> ‚Äì —á–µ–ª–æ–≤–µ–∫, –∑–∞–±—É—Å—Ç–∏–≤—à–∏–π —Å–µ—Ä–≤–µ—Ä\n\n"
                    "<@&1261858451366346862> ‚Äì —Ä–æ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–ª—é—à–∫–∞–º –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º\n"
                    "`–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è: –ø–æ–∫—É–ø–∫–∞ –∑–∞ —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≤–∞–ª—é—Ç—É —É Akemi –≤ –∫–∞–Ω–∞–ª–µ` <#832814956499828766>\n\n"
                    "<@&796308168719728651>  ‚Äì —Ä–æ–ª—å –¥–ª—è –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–π, –ø–æ–ª—É—á–∏–≤—à–∏—Ö –º—É—Ç –ø–æ –∫–∞–∫–∏–º-–ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–∞–º\n"
                    "`–ë–æ–Ω—É—Å: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É <#1272281772092166214>, –≥–¥–µ –º–æ–∂–Ω–æ –≤—ã–ø–ª–µ—Å–Ω—É—Ç—å —ç–º–æ—Ü–∏–∏ –∏–ª–∏ –æ—Å–ø–æ—Ä–∏—Ç—å —Å–≤–æ–µ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ`<:interesting:873242359482171422>"
                ),
                color=disnake.Color.red()
            ),
            disnake.Embed(
                title="‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–æ–ª–∏ ‚ö†Ô∏è",
                description=( 
                    "> –ü–æ–º–∏–º–æ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ\n"
                    "‚ö†Ô∏è –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–π –≤–∞—Å —Ä–æ–ª–∏ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, –∑–Ω–∞—á–∏—Ç –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å __–∞—Ä—Ö–∏–≤–Ω–æ–π__ –∏/–∏–ª–∏ –µ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç **–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ**\n\n"
                    "–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–∞–∫–æ–π-–ª–∏–±–æ —Ä–æ–ª–∏, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ <#1253754782359752865>"
                ),
                color=disnake.Color.dark_gray()
            )
        ]

        # –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ä–æ–ª–µ–π
        game_button_view = View()
        game_button_view.add_item(Button(label="Sky: Children of Light", custom_id="role_sky", style=disnake.ButtonStyle.success))
        game_button_view.add_item(Button(label="Genshin Impact", custom_id="role_genshin", style=disnake.ButtonStyle.success))
        game_button_view.add_item(Button(label="Honkai: Star Rail", custom_id="role_honkai", style=disnake.ButtonStyle.success))
        game_button_view.add_item(Button(label="–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä–æ–≤—ã–µ —Ä–æ–ª–∏", custom_id="reset_game_roles", style=disnake.ButtonStyle.danger))

        gender_button_view = View()
        gender_button_view.add_item(Button(label="–ü–∞—Ä–µ–Ω—å", custom_id="role_male", style=disnake.ButtonStyle.primary))
        gender_button_view.add_item(Button(label="–î–µ–≤—É—à–∫–∞", custom_id="role_female", style=disnake.ButtonStyle.primary))
        gender_button_view.add_item(Button(label="–°–±—Ä–æ—Å–∏—Ç—å –≥–µ–Ω–¥–µ—Ä–Ω—É—é —Ä–æ–ª—å", custom_id="reset_gender_role", style=disnake.ButtonStyle.danger))

        # –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ —Ä–æ–ª–µ–π
        reset_button_view = View()
        reset_button_view.add_item(Button(label="–°–±—Ä–æ—Å–∏—Ç—å —Ä–æ–ª–∏", custom_id="reset_roles", style=disnake.ButtonStyle.danger))

        # –û—Ç–ø—Ä–∞–≤–∫–∞ Embed'–æ–≤
        for index, embed in enumerate(embeds):
            if index == 3:  # –†–æ–ª–∏ –∏–≥—Ä (4-–π Embed)
                await channel.send(embed=embed, view=game_button_view)
            elif index == 4:  # –ì–µ–Ω–¥–µ—Ä–Ω—ã–µ —Ä–æ–ª–∏ (5-–π Embed)
                await channel.send(embed=embed, view=gender_button_view)
            else:
                await channel.send(embed=embed)

    @commands.slash_command(name="server_role_welcome", description="–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ä–æ–ª—è–º–∏ –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.")
    async def server_role_welcome(self, inter: disnake.CommandInteraction, channel: disnake.TextChannel = None):
        """–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–æ–ª—è–º–∏."""
        # –î–µ—Ñ–µ—Ä–∏–º –æ—Ç–≤–µ—Ç, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ç–∞–π–º-–∞—É—Ç–∞
        await inter.response.defer()
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        user_roles = [role.id for role in inter.user.roles]
        allowed_roles = config["ADMIN"]

        if not any(role_id in user_roles for role_id in allowed_roles):
            await inter.send("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.", ephemeral=True)
            return
        
        # –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–Ω–∞–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –≤—ã–∑–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞
        if not channel:
            channel = inter.channel

        # –û—Ç–ø—Ä–∞–≤–∫–∞ Embed'–æ–≤ —Å —Ä–æ–ª—è–º–∏
        await self.send_embeds(channel)

    @commands.Cog.listener()
    async def on_button_click(self, interaction: Interaction):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª–µ–π –∏ —Å–±—Ä–æ—Å–∞ —Ä–æ–ª–µ–π."""
        role_mapping = {
            "role_sky": 791556122128678934,  # Sky —Ä–æ–ª—å
            "role_genshin": 810915472664690689,  # Genshin —Ä–æ–ª—å
            "role_honkai": 1142091192222359573,  # Honkai —Ä–æ–ª—å
            "role_male": 866427253490450492,  # –ú—É–∂—á–∏–Ω–∞ —Ä–æ–ª—å
            "role_female": 866426767639183411,  # –ñ–µ–Ω—â–∏–Ω–∞ —Ä–æ–ª—å
        }

        role_id = role_mapping.get(interaction.data['custom_id'])

        if role_id:
            role = interaction.guild.get_role(role_id)
            if role:
                await interaction.user.add_roles(role)
                await interaction.response.send_message(f"–í–∞–º –±—ã–ª–∞ –≤—ã–¥–∞–Ω–∞ —Ä–æ–ª—å {role.name}!", ephemeral=True)
            else:
                await interaction.response.send_message("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–æ–ª–∏.", ephemeral=True)

        # –°–±—Ä–æ—Å –∏–≥—Ä–æ–≤—ã—Ö —Ä–æ–ª–µ–π
        if interaction.data['custom_id'] == "reset_game_roles":
            game_roles = [791556122128678934, 810915472664690689, 1142091192222359573]
            roles_to_remove = [role for role in interaction.user.roles if role.id in game_roles]
            if roles_to_remove:
                await interaction.user.remove_roles(*roles_to_remove)
                await interaction.response.send_message("–í—Å–µ –∏–≥—Ä–æ–≤—ã–µ —Ä–æ–ª–∏ –±—ã–ª–∏ —Å–±—Ä–æ—à–µ–Ω—ã!", ephemeral=True)
            else:
                await interaction.response.send_message("–£ –≤–∞—Å –Ω–µ—Ç –∏–≥—Ä–æ–≤—ã—Ö —Ä–æ–ª–µ–π –¥–ª—è —Å–±—Ä–æ—Å–∞.", ephemeral=True)

        # –°–±—Ä–æ—Å –≥–µ–Ω–¥–µ—Ä–Ω–æ–π —Ä–æ–ª–∏
        if interaction.data['custom_id'] == "reset_gender_role":
            gender_roles = [866427253490450492, 866426767639183411]
            roles_to_remove = [role for role in interaction.user.roles if role.id in gender_roles]
            if roles_to_remove:
                await interaction.user.remove_roles(*roles_to_remove)
                await interaction.response.send_message("–í–∞—à–∞ –≥–µ–Ω–¥–µ—Ä–Ω–∞—è —Ä–æ–ª—å –±—ã–ª–∞ —Å–±—Ä–æ—à–µ–Ω–∞!", ephemeral=True)
            else:
                await interaction.response.send_message("–£ –≤–∞—Å –Ω–µ—Ç –≥–µ–Ω–¥–µ—Ä–Ω–æ–π —Ä–æ–ª–∏ –¥–ª—è —Å–±—Ä–æ—Å–∞.", ephemeral=True)

        # –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–æ–ª–µ–π
        if interaction.data['custom_id'] == "reset_roles":
            for role in interaction.user.roles:
                if role.id in role_mapping.values():
                    await interaction.user.remove_roles(role)
            await interaction.response.send_message("–í—Å–µ —Ä–æ–ª–∏ —Å–±—Ä–æ—à–µ–Ω—ã!", ephemeral=True)

def setup(bot):
    bot.add_cog(SelfRole(bot))
